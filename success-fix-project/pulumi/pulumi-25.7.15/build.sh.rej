--- build.sh
+++ build.sh
@@ -18,21 +18,21 @@
 # 设置正确的GOPATH环境变量
 export GOPATH=/root/go
 
-# 复制fuzzer文件到正确的位置
+# 复制fuzzer文件到正确的位置
 cp $SRC/schema_fuzzer.go $SRC/pulumi/pkg/codegen/schema/
 cp $SRC/config_fuzzer.go $SRC/pulumi/sdk/go/common/resource/config/
 
 # 进入pulumi项目目录
 cd $SRC/pulumi
 
-# 在pkg目录中运行go mod tidy
-cd pkg
-go mod tidy
-
-# 返回pulumi根目录
-cd ..
-
-# 编译fuzzers - 使用正确的模块路径
-compile_go_fuzzer github.com/pulumi/pulumi/pkg/v3/codegen/schema SchemaFuzzer schema_fuzzer
-compile_go_fuzzer github.com/pulumi/pulumi/sdk/v3/go/common/resource/config FuzzConfig fuzz
-compile_go_fuzzer github.com/pulumi/pulumi/sdk/v3/go/common/resource/config FuzzParseKey fuzz_parse_key
+# 由于pulumi项目使用多模块结构，我们需要在每个模块目录中分别构建
+
+# 构建pkg模块的fuzzer
+cd pkg
+go mod tidy
+compile_go_fuzzer ./codegen/schema SchemaFuzzer schema_fuzzer
+
+# 返回pulumi根目录
+cd ..
+
+# 构建sdk模块的fuzzers
